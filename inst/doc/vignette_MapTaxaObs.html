<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Erik.Leppo@tetratech.com" />

<meta name="date" content="2018-10-16" />

<title>Vignette, Taxa Maps</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Vignette, Taxa Maps</h1>
<h4 class="author"><em><a href="mailto:Erik.Leppo@tetratech.com">Erik.Leppo@tetratech.com</a></em></h4>
<h4 class="date"><em>2018-10-16</em></h4>



<!-- Data is in vignettes\data folder  -->
<div id="purpose" class="section level1">
<h1>Purpose</h1>
<p>To create taxa distribution maps.</p>
</div>
<div id="usage" class="section level1">
<h1>Usage</h1>
<p>Map taxonomic observations from a data frame. Input a dataframe with SampID, TaxaID, TaxaCount, Latitude, and Longitude. Other arguments are format (jpg vs. pdf), file name prefix, and output directory. Files are saved with the prefix “map.taxa.” by default.</p>
<p>Uses the <code>maps</code> package map function.</p>
<p>For maps package map function need database (usa, state, county) and regions (e.g., maryland). Additional map function arguments can be passed through the MapTaxaObs function.</p>
</div>
<div id="example-data" class="section level1">
<h1>Example, Data</h1>
<p>Data used should have Sample Identifier, Taxa Identifier, Taxa Count (can be 1 for all), Latitude/Longitude (decimal degrees).</p>
<table>
<thead>
<tr class="header">
<th align="left">estuary</th>
<th align="left">CommonName</th>
<th align="left">LifeStage</th>
<th align="left">SalZone</th>
<th align="right">Winter</th>
<th align="right">Spring</th>
<th align="right">Summer</th>
<th align="right">Fall</th>
<th align="right">All</th>
<th align="left">TaxaName</th>
<th align="left">State</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="right">Count</th>
<th align="right">PctDensity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BOSTON HARBOR</td>
<td align="left">ALEWIFE</td>
<td align="left">ADULTS</td>
<td align="left">0.5-25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">2.333333</td>
<td align="right">3.3333333</td>
<td align="right">1.333333</td>
<td align="right">1.7500000</td>
<td align="left">ALEWIFE, ADULTS, 0.5-25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">1.7500000</td>
<td align="right">0.0023913</td>
</tr>
<tr class="even">
<td align="left">BOSTON HARBOR</td>
<td align="left">ALEWIFE</td>
<td align="left">ADULTS</td>
<td align="left">&gt;25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">2.333333</td>
<td align="right">3.3333333</td>
<td align="right">2.666667</td>
<td align="right">2.0833333</td>
<td align="left">ALEWIFE, ADULTS, &gt;25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">2.0833333</td>
<td align="right">0.0028467</td>
</tr>
<tr class="odd">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN EEL</td>
<td align="left">ADULTS</td>
<td align="left">0.5-25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">0.000000</td>
<td align="right">0.6666667</td>
<td align="right">2.666667</td>
<td align="right">0.8333333</td>
<td align="left">AMERICAN EEL, ADULTS, 0.5-25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">0.8333333</td>
<td align="right">0.0011387</td>
</tr>
<tr class="even">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN EEL</td>
<td align="left">ADULTS</td>
<td align="left">&gt;25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">0.000000</td>
<td align="right">0.6666667</td>
<td align="right">2.666667</td>
<td align="right">0.8333333</td>
<td align="left">AMERICAN EEL, ADULTS, &gt;25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">0.8333333</td>
<td align="right">0.0011387</td>
</tr>
<tr class="odd">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN LOBSTER</td>
<td align="left">ADULTS</td>
<td align="left">0.5-25 ppt</td>
<td align="right">0.6666667</td>
<td align="right">2.333333</td>
<td align="right">4.0000000</td>
<td align="right">3.333333</td>
<td align="right">2.5833333</td>
<td align="left">AMERICAN LOBSTER, ADULTS, 0.5-25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">2.5833333</td>
<td align="right">0.0035299</td>
</tr>
<tr class="even">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN LOBSTER</td>
<td align="left">ADULTS</td>
<td align="left">&gt;25 ppt</td>
<td align="right">2.3333333</td>
<td align="right">3.000000</td>
<td align="right">4.0000000</td>
<td align="right">3.333333</td>
<td align="right">3.1666667</td>
<td align="left">AMERICAN LOBSTER, ADULTS, &gt;25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">3.1666667</td>
<td align="right">0.0043270</td>
</tr>
</tbody>
</table>
</div>
<div id="example-ggplot" class="section level1">
<h1>Example, ggplot</h1>
<p>The <code>ggplot2</code> package can be used to create single maps that are returned to the console for further editing.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Packages</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(MapTaxaObs)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(knitr)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">df_obs &lt;-<span class="st"> </span>data_Taxa_MA</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"></a>
<a class="sourceLine" id="cb1-9" data-line-number="9">TaxaID &lt;-<span class="st"> &quot;TaxaName&quot;</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">TaxaCount &lt;-<span class="st"> &quot;Count&quot;</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">Lat &lt;-<span class="st"> &quot;Latitude&quot;</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12">Long &lt;-<span class="st"> &quot;Longitude&quot;</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"></a>
<a class="sourceLine" id="cb1-17" data-line-number="17">myTaxa &lt;-<span class="st"> &quot;ALEWIFE, ADULTS, 0.5-25 ppt&quot;</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"></a>
<a class="sourceLine" id="cb1-19" data-line-number="19">df_map &lt;-<span class="st"> </span><span class="kw">subset</span>(df_obs, df_obs[,TaxaID]<span class="op">==</span>myTaxa)</a>
<a class="sourceLine" id="cb1-20" data-line-number="20"></a>
<a class="sourceLine" id="cb1-21" data-line-number="21">myDB &lt;-<span class="st"> &quot;state&quot;</span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22">myRegion &lt;-<span class="st"> &quot;massachusetts&quot;</span></a>
<a class="sourceLine" id="cb1-23" data-line-number="23"></a>
<a class="sourceLine" id="cb1-24" data-line-number="24">Lat &lt;-<span class="st"> &quot;Latitude&quot;</span></a>
<a class="sourceLine" id="cb1-25" data-line-number="25">Long &lt;-<span class="st"> &quot;Longitude&quot;</span></a>
<a class="sourceLine" id="cb1-26" data-line-number="26"></a>
<a class="sourceLine" id="cb1-27" data-line-number="27"></a>
<a class="sourceLine" id="cb1-28" data-line-number="28"></a>
<a class="sourceLine" id="cb1-29" data-line-number="29"></a>
<a class="sourceLine" id="cb1-30" data-line-number="30"><span class="co"># Base Map</span></a>
<a class="sourceLine" id="cb1-31" data-line-number="31">m1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data=</span><span class="kw">subset</span>(<span class="kw">map_data</span>(myDB), region <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(myRegion))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-32" data-line-number="32"><span class="st">          </span><span class="kw">geom_polygon</span>(<span class="kw">aes</span>(<span class="dt">x=</span>long, <span class="dt">y=</span>lat, <span class="dt">group=</span>group), <span class="dt">fill=</span><span class="st">&quot;light gray&quot;</span>, <span class="dt">color=</span><span class="st">&quot;black&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-33" data-line-number="33"><span class="st">          </span><span class="kw">coord_fixed</span>(<span class="fl">1.3</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>()</a>
<a class="sourceLine" id="cb1-34" data-line-number="34"><span class="co"># Add points (all)</span></a>
<a class="sourceLine" id="cb1-35" data-line-number="35">m1 &lt;-<span class="st"> </span>m1 <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data=</span>df_obs, <span class="kw">aes</span>(df_obs[,Long], df_obs[,Lat]), <span class="dt">fill=</span><span class="ot">NA</span>, <span class="dt">color=</span><span class="st">&quot;gray&quot;</span>)</a>
<a class="sourceLine" id="cb1-36" data-line-number="36"><span class="co"># Add points (Taxa)</span></a>
<a class="sourceLine" id="cb1-37" data-line-number="37">m1 &lt;-<span class="st"> </span>m1 <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data=</span>df_map, <span class="kw">aes</span>(df_map[,Long], df_map[,Lat]), <span class="dt">color=</span><span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb1-38" data-line-number="38"><span class="co"># Map Title (center)</span></a>
<a class="sourceLine" id="cb1-39" data-line-number="39">m1 &lt;-<span class="st"> </span>m1 <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span>myTaxa) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">hjust =</span> <span class="fl">0.5</span>))</a>
<a class="sourceLine" id="cb1-40" data-line-number="40"><span class="co"># Caption (left justified)</span></a>
<a class="sourceLine" id="cb1-41" data-line-number="41">m1 &lt;-<span class="st"> </span>m1 <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">caption=</span><span class="st">&quot;caption1 </span><span class="ch">\n</span><span class="st"> caption2&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">plot.caption =</span> <span class="kw">element_text</span>(<span class="dt">hjust=</span><span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1-42" data-line-number="42"></a>
<a class="sourceLine" id="cb1-43" data-line-number="43"><span class="co"># Show Results</span></a>
<a class="sourceLine" id="cb1-44" data-line-number="44"><span class="kw">kable</span>(<span class="kw">head</span>(df_obs))</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">estuary</th>
<th align="left">CommonName</th>
<th align="left">LifeStage</th>
<th align="left">SalZone</th>
<th align="right">Winter</th>
<th align="right">Spring</th>
<th align="right">Summer</th>
<th align="right">Fall</th>
<th align="right">All</th>
<th align="left">TaxaName</th>
<th align="left">State</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="right">Count</th>
<th align="right">PctDensity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BOSTON HARBOR</td>
<td align="left">ALEWIFE</td>
<td align="left">ADULTS</td>
<td align="left">0.5-25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">2.333333</td>
<td align="right">3.3333333</td>
<td align="right">1.333333</td>
<td align="right">1.7500000</td>
<td align="left">ALEWIFE, ADULTS, 0.5-25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">1.7500000</td>
<td align="right">0.0023913</td>
</tr>
<tr class="even">
<td align="left">BOSTON HARBOR</td>
<td align="left">ALEWIFE</td>
<td align="left">ADULTS</td>
<td align="left">&gt;25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">2.333333</td>
<td align="right">3.3333333</td>
<td align="right">2.666667</td>
<td align="right">2.0833333</td>
<td align="left">ALEWIFE, ADULTS, &gt;25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">2.0833333</td>
<td align="right">0.0028467</td>
</tr>
<tr class="odd">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN EEL</td>
<td align="left">ADULTS</td>
<td align="left">0.5-25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">0.000000</td>
<td align="right">0.6666667</td>
<td align="right">2.666667</td>
<td align="right">0.8333333</td>
<td align="left">AMERICAN EEL, ADULTS, 0.5-25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">0.8333333</td>
<td align="right">0.0011387</td>
</tr>
<tr class="even">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN EEL</td>
<td align="left">ADULTS</td>
<td align="left">&gt;25 ppt</td>
<td align="right">0.0000000</td>
<td align="right">0.000000</td>
<td align="right">0.6666667</td>
<td align="right">2.666667</td>
<td align="right">0.8333333</td>
<td align="left">AMERICAN EEL, ADULTS, &gt;25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">0.8333333</td>
<td align="right">0.0011387</td>
</tr>
<tr class="odd">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN LOBSTER</td>
<td align="left">ADULTS</td>
<td align="left">0.5-25 ppt</td>
<td align="right">0.6666667</td>
<td align="right">2.333333</td>
<td align="right">4.0000000</td>
<td align="right">3.333333</td>
<td align="right">2.5833333</td>
<td align="left">AMERICAN LOBSTER, ADULTS, 0.5-25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">2.5833333</td>
<td align="right">0.0035299</td>
</tr>
<tr class="even">
<td align="left">BOSTON HARBOR</td>
<td align="left">AMERICAN LOBSTER</td>
<td align="left">ADULTS</td>
<td align="left">&gt;25 ppt</td>
<td align="right">2.3333333</td>
<td align="right">3.000000</td>
<td align="right">4.0000000</td>
<td align="right">3.333333</td>
<td align="right">3.1666667</td>
<td align="left">AMERICAN LOBSTER, ADULTS, &gt;25 ppt</td>
<td align="left">MA</td>
<td align="right">42.335</td>
<td align="right">-70.9815</td>
<td align="right">3.1666667</td>
<td align="right">0.0043270</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">m1</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="example-pdf" class="section level1">
<h1>Example, PDF</h1>
<p>The example below will create a PDF with one map per page.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">df_obs &lt;-<span class="st"> </span>data_Taxa_MA</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">SampID &lt;-<span class="st"> &quot;estuary&quot;</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">TaxaID &lt;-<span class="st"> &quot;TaxaName&quot;</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">TaxaCount &lt;-<span class="st"> &quot;Count&quot;</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">Lat &lt;-<span class="st"> &quot;Latitude&quot;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">Long &lt;-<span class="st"> &quot;Longitude&quot;</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">output_dir &lt;-<span class="st"> </span><span class="kw">getwd</span>()</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">output_prefix &lt;-<span class="st"> &quot;maps.taxa.&quot;</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">output_type &lt;-<span class="st"> &quot;pdf&quot;</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">myDB &lt;-<span class="st"> &quot;state&quot;</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12">myRegion &lt;-<span class="st"> &quot;massachusetts&quot;</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">myXlim     &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span>(<span class="dv">73</span><span class="op">+</span>(<span class="dv">30</span><span class="op">/</span><span class="dv">60</span>)), <span class="op">-</span>(<span class="dv">69</span><span class="op">+</span>(<span class="dv">56</span><span class="op">/</span><span class="dv">60</span>)))</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">myYlim     &lt;-<span class="st"> </span><span class="kw">c</span>((<span class="dv">41</span><span class="op">+</span>(<span class="dv">14</span><span class="op">/</span><span class="dv">60</span>)),(<span class="dv">42</span><span class="op">+</span>(<span class="dv">53</span><span class="op">/</span><span class="dv">60</span>)))</a>
<a class="sourceLine" id="cb3-15" data-line-number="15"></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co"># Run function with extra arguments for map</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="kw">MapTaxaObs</span>(df_obs, SampID, TaxaID, TaxaCount, Lat, Long</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">           , output_dir, output_prefix, output_type</a>
<a class="sourceLine" id="cb3-19" data-line-number="19">           , <span class="dt">database=</span><span class="st">&quot;state&quot;</span>, <span class="dt">regions=</span><span class="st">&quot;massachusetts&quot;</span>, <span class="dt">xlim=</span>myXlim, <span class="dt">ylim=</span>myYlim)</a></code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
